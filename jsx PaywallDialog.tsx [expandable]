import { Button } from "../ui/button";
import { useAutumn } from "autumn-js/react";

interface PaywallDialogProps {
  open: boolean;
  setOpen: (open: boolean) => void;
  preview: any;
}

export const PaywallDialog = ({ open, setOpen, preview }: PaywallDialogProps) => {
  const { attach } = useAutumn();

  return (
    <div className="flex absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-full max-w-md items-center z-100">
      {open && (
        <div className="flex flex-col gap-2 bg-white p-10 shadow-md border">
          <h3>{preview.title}</h3>
          <p>{preview.message}</p>
          {preview.upgrade_product_id && (
            <Button onClick={() => attach({ productId: preview.upgrade_product_id })}>
              Upgrade Now
            </Button>
          )}
          <Button onClick={() => setOpen(false)}>Close</Button>
        </div>
      )}
    </div>
  );
}; 